$(function(){$.fn.scrollToTop=function(){$(this).hide().removeAttr("href"),$(window).scrollTop()>150&&$(this).fadeIn("slow");var e=$(this);$(window).scroll(function(){$(window).scrollTop()<150?$(e).fadeOut("slow"):$(e).fadeIn("slow")}),$(this).click(function(){$("html, body").animate({scrollTop:0},"slow")})}}),$(document).ready(function(){if(particlesJS.load("particles",sitepath+"/assests/js/particles.json",function(){console.log("config loaded")}),$("#nav-icon").click(function(){$(this).hasClass("open")?$(".mainMenu").fadeOut(500):$(".mainMenu").fadeIn(500),$(this).toggleClass("open")}),$(".ratioBottom1").pan({fps:30,speed:1,dir:"left",depth:70}),$(".ratioBottom2").pan({fps:30,speed:.6,dir:"left",depth:70}),$(".ratioBottom3").pan({fps:30,speed:.6,dir:"left",depth:70}),setTimeout(function(){$(".rencersBanner .aflam em:nth-child(1)").addClass("animated bounceInDown").removeClass("hidden"),setTimeout(function(){$(".rencersBanner .aflam em:nth-child(2)").addClass("animated bounceInDown").removeClass("hidden")},300),setTimeout(function(){$(".rencersBanner .aflam em:nth-child(3)").addClass("animated bounceInDown").removeClass("hidden")},600),setTimeout(function(){$(".rencersBanner .aflam em:nth-child(4)").addClass("animated bounceInDown").removeClass("hidden")},900),setTimeout(function(){$(".rencersBanner .aflam em:nth-child(5)").addClass("animated bounceInDown").removeClass("hidden")},1200),setTimeout(function(){$(".rencersBanner .hq-logo").addClass("animated fadeInUp").removeClass("hidden"),setInterval(function(){$(".rencersBanner .hq-logo").removeClass("animated fadeInUp"),$(".rencersBanner .hq-logo").addClass("pulse animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("pulse animated")})},5e3)},1500),setTimeout(function(){$(".rencersBanner .hq-title-a").addClass("animated bounceInLeft").removeClass("hidden"),$(".rencersBanner .hq-title-b").addClass("animated bounceInRight").removeClass("hidden")},1700)},1e3),$(".episodesList").length){var e=$(".episodesList").html();$(".episodesList").remove();var t='<div class="episodesList">'+e+"</div>";$(".serversWatchs").append(t),$(".episodesList a").addClass("effect")}if($(".trailerButton").attr("title","ظ…ط´ط§ظ‡ط¯ط© ط§ظ„ط§ط¹ظ„ط§ظ†"),$(".social-shares ul li, .trailerButton, ul.TabsList > li, .stats > span, .pagination li").addClass("effect"),$(".get-imdb").length)$("#imdb").val()}),$(window).scroll(function(){$(this).scrollTop()>20&&($("[data-src]").each(function(e,t){$(t).attr("src",$(t).data("src"))}),$("[data-style]").each(function(e,t){$(t).attr("style",$(t).data("style"))}))});var xxx=0;function UM_check_password_matched(){jQuery(document).on("keyup","input[data-key=user_password],input[data-key=confirm_user_password]",function(e){var t=jQuery("input[data-key=user_password]").val(),i=jQuery("input[data-key=confirm_user_password]").val(),a=jQuery("input[data-key=user_password],input[data-key=confirm_user_password]");t||i?t!==i?a.removeClass("um-validate-matched").addClass("um-validate-not-matched"):a.removeClass("um-validate-not-matched").addClass("um-validate-matched"):a.removeClass("um-validate-matched").removeClass("um-validate-not-matched")})}function UM_hide_menus(){menu=jQuery(".um-dropdown"),menu.parents("div").find("a").removeClass("active"),menu.hide()}function UM_domenus(){jQuery(".um-dropdown").each(function(){var e=jQuery(this),t=jQuery(this).attr("data-element"),i=jQuery(this).attr("data-position");jQuery(t).addClass("um-trigger-menu-on-"+e.attr("data-trigger")),jQuery(window).width()<=1200&&"div.um-profile-edit"==t&&(i="lc"),"lc"==i&&(200>jQuery(t).find("img").width()?left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2+(jQuery(t).find("img").width()-200)/2:left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2,top_=parseInt(jQuery(t).find("a").css("top")),top_?(top_p=jQuery(t).find("img").height()+4+top_,left_gap=4):(top_p=jQuery(t).find("img").height()+4,left_gap=0),4==top_p&&"div.um-cover"==t?top_p=jQuery(t).height()/2+e.height()/2:4==top_p&&(top_p=jQuery(t).height()+20),gap_right=jQuery(t).width()+17,e.css({top:0,width:200,left:"auto",right:gap_right+"px","text-align":"center"}),e.find(".um-dropdown-arr").find("i").removeClass().addClass("um-icon-arrow-right-b"),e.find(".um-dropdown-arr").css({top:"4px",left:"auto",right:"-17px"})),"bc"==i&&(200>jQuery(t).find("img").width()?left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2+(jQuery(t).find("img").width()-200)/2:left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2,top_=parseInt(jQuery(t).find("a").css("top")),top_?(top_p=jQuery(t).find("img").height()+4+top_,left_gap=4):(top_p=jQuery(t).find("img").height()+4,left_gap=0),4==top_p&&"div.um-cover"==t?top_p=jQuery(t).height()/2+e.height()/2:4==top_p&&(top_p=jQuery(t).height()+20),e.css({top:top_p,width:200,left:left_p+left_gap,right:"auto","text-align":"center"}),e.find(".um-dropdown-arr").find("i").removeClass().addClass("um-icon-arrow-up-b"),e.find(".um-dropdown-arr").css({top:"-17px",left:e.width()/2-12,right:"auto"}))})}function um_responsive(){jQuery(".um").each(function(){element_width=jQuery(this).width(),element_width<=340?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob340")):element_width<=500?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob500")):element_width<=800?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob800")):element_width<=960?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob960")):element_width>960&&(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960")),jQuery(".um-account-nav").length>0&&jQuery(".um-account-side").is(":visible")&&0==jQuery(".um-account-tab:visible").length&&jQuery(".um-account-side li a.current").trigger("click"),jQuery(this).css("opacity",1)}),jQuery(".um-cover, .um-member-cover, .um-cover-e").each(function(){var e=jQuery(this),t=e.data("ratio"),i=e.width(),a=t.split(":");calcHeight=Math.round(i/a[0])+"px",e.height(calcHeight),e.find(".um-cover-add").height(calcHeight)}),jQuery(".um-members").each(function(){UM_Member_Grid(jQuery(this))}),UM_domenus()}function UM_Member_Grid(e){e.masonry({itemSelector:".um-member",columnWidth:".um-member",gutter:".um-gutter-sizer"})}function initImageUpload_UM(e){e.data("upload_help_text")?upload_help_text='<span class="help">'+e.data("upload_help_text")+"</span>":upload_help_text="",e.data("icon")?icon='<span class="icon"><i class="'+e.data("icon")+'"></i></span>':icon="",e.data("upload_text")?upload_text='<span class="str">'+e.data("upload_text")+"</span>":upload_text="";var t=0;jQuery("#um_upload_single:visible").data("user_id")&&(t=jQuery("#um_upload_single:visible").data("user_id")),e.uploadFile({url:wp.ajax.settings.url,method:"POST",multiple:!1,formData:{action:"um_imageupload",key:e.data("key"),set_id:e.data("set_id"),set_mode:e.data("set_mode"),_wpnonce:e.data("nonce"),timestamp:e.data("timestamp"),user_id:t},fileName:e.data("key"),allowedTypes:e.data("allowed_types"),maxFileSize:e.data("max_size"),dragDropStr:icon+upload_text+upload_help_text,sizeErrorStr:e.data("max_size_error"),extErrorStr:e.data("extension_error"),maxFileCountErrorStr:e.data("max_files_error"),maxFileCount:1,showDelete:!1,showAbort:!1,showDone:!1,showFileCounter:!1,showStatusAfterSuccess:!0,returnType:"json",onSubmit:function(t){e.parents(".um-modal-body").find(".um-error-block").remove()},onSuccess:function(t,i,a){e.selectedFiles=0,i.success&&0==i.success||void 0!==i.data.error?(e.parents(".um-modal-body").append('<div class="um-error-block">'+i.data.error+"</div>"),e.parents(".um-modal-body").find(".upload-statusbar").hide(0),um_modal_responsive()):jQuery.each(i.data,function(t,i){var a=e.parents(".um-modal-body").find(".um-single-image-preview img"),s=e.parents(".um-modal-body").find(".um-single-image-preview"),r=new Date;a.attr("src",i.url+"?"+r.getTime()),a.data("file",i.file),a.load(function(){e.parents(".um-modal-body").find(".um-modal-btn.um-finish-upload.disabled").removeClass("disabled"),e.parents(".um-modal-body").find(".ajax-upload-dragdrop,.upload-statusbar").hide(0),s.show(0),um_modal_responsive()})})},onError:function(e){console.log(e)}})}function initFileUpload_UM(e){e.data("upload_help_text")?upload_help_text='<span class="help">'+e.data("upload_help_text")+"</span>":upload_help_text="",e.data("icon")?icon='<span class="icon"><i class="'+e.data("icon")+'"></i></span>':icon="",e.data("upload_text")?upload_text='<span class="str">'+e.data("upload_text")+"</span>":upload_text="",jQuery("#um_upload_single:visible").data("user_id")&&(user_id=jQuery("#um_upload_single:visible").data("user_id")),e.uploadFile({url:wp.ajax.settings.url,method:"POST",multiple:!1,formData:{action:"um_fileupload",key:e.data("key"),set_id:e.data("set_id"),user_id:e.data("user_id"),set_mode:e.data("set_mode"),_wpnonce:e.data("nonce"),timestamp:e.data("timestamp")},fileName:e.data("key"),allowedTypes:e.data("allowed_types"),maxFileSize:e.data("max_size"),dragDropStr:icon+upload_text+upload_help_text,sizeErrorStr:e.data("max_size_error"),extErrorStr:e.data("extension_error"),maxFileCountErrorStr:e.data("max_files_error"),maxFileCount:1,showDelete:!1,showAbort:!1,showDone:!1,showFileCounter:!1,showStatusAfterSuccess:!0,onSubmit:function(t){e.parents(".um-modal-body").find(".um-error-block").remove()},onSuccess:function(t,i,a){e.selectedFiles=0,i.success&&0==i.success||void 0!==i.data.error?(e.parents(".um-modal-body").append('<div class="um-error-block">'+i.data.error+"</div>"),e.parents(".um-modal-body").find(".upload-statusbar").hide(0),setTimeout(function(){um_modal_responsive()},1e3)):(jQuery.each(i.data,function(t,i){e.parents(".um-modal-body").find(".um-modal-btn.um-finish-upload.disabled").removeClass("disabled"),e.parents(".um-modal-body").find(".ajax-upload-dragdrop,.upload-statusbar").hide(0),e.parents(".um-modal-body").find(".um-single-file-preview").show(0),"icon"==t?e.parents(".um-modal-body").find(".um-single-fileinfo i").removeClass().addClass(i):"icon_bg"==t?e.parents(".um-modal-body").find(".um-single-fileinfo span.icon").css({"background-color":i}):"filename"==t?e.parents(".um-modal-body").find(".um-single-fileinfo a").attr("data-file",i):"original_name"==t?(e.parents(".um-modal-body").find(".um-single-fileinfo a").attr("data-orignal-name",i),e.parents(".um-modal-body").find(".um-single-fileinfo span.filename").html(i)):"url"==t&&e.parents(".um-modal-body").find(".um-single-fileinfo a").attr("href",i)}),setTimeout(function(){um_modal_responsive()},1e3))},onError:function(e){console.log(e)}})}function initCrop_UM(){var e=jQuery(".um-modal .um-single-image-preview img").first(),t=jQuery(".um-modal .um-single-image-preview"),i=e.parent().attr("data-crop"),a=e.parent().attr("data-min_width"),s=e.parent().attr("data-min_height"),r=e.parent().attr("data-ratio");if(jQuery(".um-modal").find("#um_upload_single").attr("data-ratio"))r=(r=jQuery(".um-modal").find("#um_upload_single").attr("data-ratio")).split(":")[0];if(e.length&&""!=e.attr("src")){var o=jQuery(window).height()-(jQuery(".um-modal-footer a").height()+20)-50-jQuery(".um-modal-header:visible").height();if(e.css({height:"auto"}),t.css({height:"auto"}),jQuery(window).height()<=400?(t.css({height:o+"px","max-height":o+"px"}),e.css({height:"auto"})):(e.css({height:"auto","max-height":o+"px"}),t.css({height:e.height(),"max-height":o+"px"})),"square"==i)var n={minWidth:a,minHeight:s,dragCrop:!1,aspectRatio:1,zoomable:!1,rotatable:!1,dashed:!1,done:function(t){e.parent().attr("data-coord",Math.round(t.x)+","+Math.round(t.y)+","+Math.round(t.width)+","+Math.round(t.height))}};else if("cover"==i){Math.round(a/r)>0&&(s=Math.round(a/r));n={minWidth:a,minHeight:s,dragCrop:!1,aspectRatio:r,zoomable:!1,rotatable:!1,dashed:!1,done:function(t){e.parent().attr("data-coord",Math.round(t.x)+","+Math.round(t.y)+","+Math.round(t.width)+","+Math.round(t.height))}}}else if("user"==i)n={minWidth:a,minHeight:s,dragCrop:!0,aspectRatio:"auto",zoomable:!1,rotatable:!1,dashed:!1,done:function(t){e.parent().attr("data-coord",Math.round(t.x)+","+Math.round(t.y)+","+Math.round(t.width)+","+Math.round(t.height))}};0!=i&&(e.cropper(n),jQuery(".um-single-image-preview img.cropper-hidden").cropper("destroy"),jQuery(".um-single-image-preview img.lazyloaded").addClass("cropper-hidden"),jQuery(".um-single-image-preview img.lazyloaded").removeClass("lazyloaded"),jQuery(".um-single-image-preview .cropper-container").append('<div class="um-clear"></div>'))}}function um_new_modal(e,t,i,a){if(0==jQuery("body").find(".um-modal-overlay").length)if(jQuery(".tipsy").hide(),UM_hide_menus(),jQuery("body,html,textarea").css("overflow","hidden"),jQuery(document).bind("touchmove",function(e){e.preventDefault()}),jQuery(".um-modal").on("touchmove",function(e){e.stopPropagation()}),i?jQuery("body").append('<div class="um-modal-overlay"></div><div class="um-modal is-photo"></div>'):jQuery("body").append('<div class="um-modal-overlay"></div><div class="um-modal no-photo"></div>'),jQuery("#"+e).prependTo(".um-modal"),i){jQuery(".um-modal").find(".um-modal-photo").html("<img />");var s=jQuery(".um-modal-photo img"),r=jQuery(window).width()-60,o=jQuery(window).height()-.25*jQuery(window).height();s.attr("src",a),s.load(function(){jQuery("#"+e).show(),jQuery(".um-modal").show(),s.css({opacity:0}),s.css({"max-width":r}),s.css({"max-height":o}),jQuery(".um-modal").css({width:s.width(),"margin-left":"-"+s.width()/2+"px"}),s.animate({opacity:1},1e3),um_modal_responsive()})}else jQuery("#"+e).show(),jQuery(".um-modal").show(),um_modal_size(t),initImageUpload_UM(jQuery(".um-modal:visible").find(".um-single-image-upload")),initFileUpload_UM(jQuery(".um-modal:visible").find(".um-single-file-upload")),um_modal_responsive()}function um_modal_responsive(){var e=jQuery(".um-modal:visible");if(jQuery(".um-modal-body.photo:visible").length){e.removeClass("uimob340"),e.removeClass("uimob500");var t=jQuery(".um-modal-photo img"),i=jQuery(window).width()-60,a=jQuery(window).height()-.25*jQuery(window).height();t.css({opacity:0}),t.css({"max-width":i}),t.css({"max-height":a}),jQuery(".um-modal").css({width:t.width(),"margin-left":"-"+t.width()/2+"px"}),t.animate({opacity:1},1e3);var s=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:s},300)}else if(e.length){var r=jQuery(window).width();if(e.removeClass("uimob340"),e.removeClass("uimob500"),r<=340)e.addClass("uimob340"),initCrop_UM(),e.animate({bottom:0},300);else if(r<=500)e.addClass("uimob500"),initCrop_UM(),e.animate({bottom:0},300);else if(r<=800){initCrop_UM();s=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:s},300)}else if(r<=960){initCrop_UM();s=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:s},300)}else if(r>960){initCrop_UM();s=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:s},300)}}}function um_remove_modal(){jQuery("img.cropper-hidden").cropper("destroy"),jQuery("body,html,textarea").css("overflow","auto"),jQuery(document).unbind("touchmove"),jQuery('.um-modal div[id^="um_"]').hide().appendTo("body"),jQuery(".um-modal,.um-modal-overlay").remove()}function um_modal_size(e){jQuery(".um-modal:visible").addClass(e)}function um_modal_add_attr(e,t){jQuery(".um-modal:visible").data(e,t)}function prepare_Modal(){0==jQuery(".um-popup-overlay").length&&(jQuery("body").append('<div class="um-popup-overlay"></div>'),jQuery("body").append('<div class="um-popup"></div>'),jQuery(".um-popup").addClass("loading"),jQuery("body,html").css({overflow:"hidden"}))}function remove_Modal(){jQuery(".um-popup-overlay").length&&(jQuery(document).trigger("um_before_modal_removed"),jQuery(".um-popup-autogrow:visible").length?jQuery(".um-popup-autogrow:visible").mCustomScrollbar("destroy"):jQuery(".um-popup-autogrow2:visible").length&&jQuery(".um-popup-autogrow2:visible").mCustomScrollbar("destroy"),jQuery(".tipsy").remove(),jQuery(".um-popup").empty().remove(),jQuery(".um-popup-overlay").empty().remove(),jQuery("body,html").css({overflow:"auto"}))}function show_Modal(e){jQuery(".um-popup-overlay").length&&(jQuery(".um-popup").removeClass("loading").html(e),jQuery(".um-tip-n").tipsy({gravity:"n",opacity:1,offset:3}),jQuery(".um-tip-w").tipsy({gravity:"w",opacity:1,offset:3}),jQuery(".um-tip-e").tipsy({gravity:"e",opacity:1,offset:3}),jQuery(".um-tip-s").tipsy({gravity:"s",opacity:1,offset:3}))}function responsive_Modal(){jQuery(".um-popup-overlay").length&&(ag_height=jQuery(window).height()-jQuery(".um-popup um-popup-header").outerHeight()-jQuery(".um-popup .um-popup-footer").outerHeight()-80,ag_height>350&&(ag_height=350),jQuery(".um-popup-autogrow:visible").length?(jQuery(".um-popup-autogrow:visible").css({height:ag_height+"px"}),jQuery(".um-popup-autogrow:visible").mCustomScrollbar({theme:"dark-3",mouseWheelPixels:500}).mCustomScrollbar("scrollTo","bottom",{scrollInertia:0})):jQuery(".um-popup-autogrow2:visible").length&&(jQuery(".um-popup-autogrow2:visible").css({"max-height":ag_height+"px"}),jQuery(".um-popup-autogrow2:visible").mCustomScrollbar({theme:"dark-3",mouseWheelPixels:500})))}function um_reset_field(e){jQuery(e).find("div.um-field-area").find("input,textarea,select").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")}function um_selected(e,t){if(e==t)return"selected='selected'"}$(".mymobmen").click(function(){0==xxx?($(".mainMenu").slideDown(100),xxx=1):($(".mainMenu").slideUp(100),xxx=0)}),jQuery(function(){jQuery(".um-search form *").keypress(function(e){if(13==e.which)return jQuery(".um-search form").submit(),!1}),2==jQuery("input[data-key=user_password],input[data-key=confirm_user_password]").length&&UM_check_password_matched()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){"use strict";var t,i=e(window),a=e(document),s=window.location,r=null,o="undefined",n="directive",d=".cropper",h=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,u=/^(x|y|width|height)$/,l=/^(naturalWidth|naturalHeight|width|height|aspectRatio|ratio|rotate)$/,m="cropper-modal",p="cropper-hidden",c="cropper-invisible",g="cropper-crop",f="cropper-disabled",y="mousedown touchstart",v="mousemove touchmove",w="mouseup mouseleave touchend touchleave touchcancel",b="wheel mousewheel DOMMouseScroll",_="resize"+d,j="dblclick",Q="build"+d,x="built"+d,C="dragstart"+d,$="dragmove"+d,k="dragend"+d,D=function(e){return"number"==typeof e},M=function(e,t){var i=[];return"number"==typeof t&&i.push(t),i.slice.apply(e,i)},T=function(e,t){var i=M(arguments,2);return function(){return e.apply(t,i.concat(M(arguments)))}},H=function(t,i){this.element=t,this.$element=e(t),this.defaults=e.extend({},H.DEFAULTS,e.isPlainObject(i)?i:{}),this.$original=r,this.ready=!1,this.built=!1,this.cropped=!1,this.rotated=!1,this.disabled=!1,this.replaced=!1,this.init()},W=Math.sqrt,z=Math.min,I=Math.max,S=Math.abs,U=Math.sin,L=Math.cos,E=parseFloat;H.prototype={constructor:H,support:{canvas:e.isFunction(e("<canvas>")[0].getContext)},init:function(){var t=this.defaults;e.each(t,function(e,i){switch(e){case"aspectRatio":t[e]=S(E(i))||NaN;break;case"autoCropArea":t[e]=S(E(i))||.8;break;case"minWidth":case"minHeight":t[e]=S(E(i))||0;break;case"maxWidth":case"maxHeight":t[e]=S(E(i))||1/0}}),this.image={rotate:0},this.load()},load:function(){var t,i,a=this,s=this.$element,r=this.element,o=this.image,n="";s.is("img")?i=s.prop("src"):s.is("canvas")&&this.support.canvas&&(i=r.toDataURL()),i&&(this.replaced&&(o.rotate=0),this.defaults.checkImageOrigin&&(s.prop("crossOrigin")||this.isCrossOriginURL(i))&&(n=" crossOrigin"),this.$clone=t=e("<img"+n+' src="'+i+'">'),t.one("load",function(){o.naturalWidth=this.naturalWidth||t.width(),o.naturalHeight=this.naturalHeight||t.height(),o.aspectRatio=o.naturalWidth/o.naturalHeight,a.url=i,a.ready=!0,a.build()}),t.addClass(c).prependTo("body"))},isCrossOriginURL:function(e){var t=e.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return!(!t||t[1]===s.protocol&&t[2]===s.hostname&&t[3]===s.port)},build:function(){var t,i,a=this.$element,s=this.defaults;this.ready&&(this.built&&this.unbuild(),a.one(Q,s.build),t=e.Event(Q),a.trigger(t),t.isDefaultPrevented()||(this.$cropper=i=e(H.TEMPLATE),a.addClass(p),this.$clone.removeClass(c).prependTo(i),this.rotated||(this.$original=this.$clone.clone(),this.$original.addClass(p).prependTo(this.$cropper),this.originalImage=e.extend({},this.image)),this.$container=a.parent(),this.$container.append(i),this.$canvas=i.find(".cropper-canvas"),this.$dragger=i.find(".cropper-dragger"),this.$viewer=i.find(".cropper-viewer"),s.autoCrop?this.cropped=!0:this.$dragger.addClass(p),s.dragCrop&&this.setDragMode("crop"),s.modal&&this.$canvas.addClass(m),!s.dashed&&this.$dragger.find(".cropper-dashed").addClass(p),!s.movable&&this.$dragger.find(".cropper-face").data(n,"move"),!s.resizable&&this.$dragger.find(".cropper-line, .cropper-point").addClass(p),this.addListeners(),this.initPreview(),this.built=!0,this.update(),this.replaced=!1,a.one(x,s.built),a.trigger(x)))},unbuild:function(){this.built&&(this.built=!1,this.removeListeners(),this.$preview.empty(),this.$preview=r,this.$dragger=r,this.$canvas=r,this.$container=r,this.$cropper.remove(),this.$cropper=r)},update:function(e){this.initContainer(),this.initCropper(),this.initImage(),this.initDragger(),e?(this.setData(e,!0),this.setDragMode("crop")):this.setData(this.defaults.data)},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(e.proxy(this.update,this,this.getData()),200)},preview:function(){var t=this.image,i=this.dragger,a=t.width,s=t.height,r=i.left-t.left,o=i.top-t.top;this.$viewer.find("img").css({width:a,height:s,marginLeft:-r,marginTop:-o}),this.$preview.each(function(){var t=e(this),n=t.width()/i.width;t.find("img").css({width:a*n,height:s*n,marginLeft:-r*n,marginTop:-o*n})})},addListeners:function(){var t=this.defaults;this.$element.on(C,t.dragstart).on($,t.dragmove).on(k,t.dragend),this.$cropper.on(y,e.proxy(this.dragstart,this)).on(j,e.proxy(this.dblclick,this)),t.zoomable&&this.$cropper.on(b,e.proxy(this.wheel,this)),t.multiple?this.$cropper.on(v,e.proxy(this.dragmove,this)).on(w,e.proxy(this.dragend,this)):a.on(v,this._dragmove=T(this.dragmove,this)).on(w,this._dragend=T(this.dragend,this)),i.on(_,this._resize=T(this.resize,this))},removeListeners:function(){var e=this.defaults;this.$element.off(C,e.dragstart).off($,e.dragmove).off(k,e.dragend),this.$cropper.off(y,this.dragstart).off(j,this.dblclick),e.zoomable&&this.$cropper.off(b,this.wheel),e.multiple?this.$cropper.off(v,this.dragmove).off(w,this.dragend):a.off(v,this._dragmove).off(w,this._dragend),i.off(_,this._resize)},initPreview:function(){var t='<img src="'+this.url+'">';this.$preview=e(this.defaults.preview),this.$viewer.html(t),this.$preview.html(t).find("img").css("cssText","min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;")},initContainer:function(){var e=this.$container;e!==r&&(this.container={width:I(e.width(),300),height:I(e.height(),150)})},initCropper:function(){var e,t=this.container,i=this.image;i.naturalWidth*t.height/i.naturalHeight-t.width>=0?(e={width:t.width,height:t.width/i.aspectRatio,left:0}).top=(t.height-e.height)/2:(e={width:t.height*i.aspectRatio,height:t.height,top:0}).left=(t.width-e.width)/2,this.$cropper&&this.$cropper.css({width:e.width,height:e.height,left:e.left,top:e.top}),this.cropper=e},initImage:function(){var t=this.image,i=this.cropper,a={_width:i.width,_height:i.height,width:i.width,height:i.height,left:0,top:0,ratio:i.width/t.naturalWidth};this.defaultImage=e.extend({},t,a),t._width!==i.width||t._height!==i.height?e.extend(t,a):(t=e.extend({},a,t),this.replaced&&(t.ratio=a.ratio)),this.image=t,this.renderImage()},renderImage:function(e){var t=this.image;"zoom"===e&&(t.left-=(t.width-t.oldWidth)/2,t.top-=(t.height-t.oldHeight)/2),t.left=z(I(t.left,t._width-t.width),0),t.top=z(I(t.top,t._height-t.height),0),this.$clone.css({width:t.width,height:t.height,marginLeft:t.left,marginTop:t.top}),e&&(this.defaults.done(this.getData()),this.preview())},initDragger:function(){var t,i=this.defaults,a=this.cropper,s=i.aspectRatio||this.image.aspectRatio,r=this.image.ratio;(t=a.height*s-a.width>=0?{height:a.width/s,width:a.width,left:0,top:(a.height-a.width/s)/2,maxWidth:a.width,maxHeight:a.width/s}:{height:a.height,width:a.height*s,left:(a.width-a.height*s)/2,top:0,maxWidth:a.height*s,maxHeight:a.height}).minWidth=0,t.minHeight=0,i.aspectRatio?(isFinite(i.maxWidth)?(t.maxWidth=z(t.maxWidth,i.maxWidth*r),t.maxHeight=t.maxWidth/s):isFinite(i.maxHeight)&&(t.maxHeight=z(t.maxHeight,i.maxHeight*r),t.maxWidth=t.maxHeight*s),i.minWidth>0?(t.minWidth=I(0,i.minWidth*r),t.minHeight=t.minWidth/s):i.minHeight>0&&(t.minHeight=I(0,i.minHeight*r),t.minWidth=t.minHeight*s)):(t.maxWidth=z(t.maxWidth,i.maxWidth*r),t.maxHeight=z(t.maxHeight,i.maxHeight*r),t.minWidth=I(0,i.minWidth*r),t.minHeight=I(0,i.minHeight*r)),t.minWidth=z(t.maxWidth,t.minWidth),t.minHeight=z(t.maxHeight,t.minHeight),t.height*=i.autoCropArea,t.width*=i.autoCropArea,t.left=(a.width-t.width)/2,t.top=(a.height-t.height)/2,t.oldLeft=t.left,t.oldTop=t.top,this.defaultDragger=t,this.dragger=e.extend({},t)},renderDragger:function(){var e=this.dragger,t=this.cropper;e.width>e.maxWidth?(e.width=e.maxWidth,e.left=e.oldLeft):e.width<e.minWidth&&(e.width=e.minWidth,e.left=e.oldLeft),e.height>e.maxHeight?(e.height=e.maxHeight,e.top=e.oldTop):e.height<e.minHeight&&(e.height=e.minHeight,e.top=e.oldTop),e.left=z(I(e.left,0),t.width-e.width),e.top=z(I(e.top,0),t.height-e.height),e.oldLeft=e.left,e.oldTop=e.top,this.dragger=e,this.disabled||this.defaults.done(this.getData()),this.$dragger.css({width:e.width,height:e.height,left:e.left,top:e.top}),this.preview()},reset:function(t){this.cropped&&(t&&(this.defaults.data={}),this.image=e.extend({},this.defaultImage),this.renderImage(),this.dragger=e.extend({},this.defaultDragger),this.setData(this.defaults.data))},clear:function(){this.cropped&&(this.cropped=!1,this.setData({x:0,y:0,width:0,height:0}),this.$canvas.removeClass(m),this.$dragger.addClass(p))},destroy:function(){var e=this.$element;this.ready&&(this.unbuild(),e.removeClass(p).removeData("cropper"),this.rotated&&e.attr("src",this.$original.attr("src")))},replace:function(t,i){var a,s=this,r=this.$element,o=this.element;t&&t!==this.url&&t!==r.attr("src")&&(i||(this.rotated=!1,this.replaced=!0),r.is("img")?(r.attr("src",t),this.load()):r.is("canvas")&&this.support.canvas&&(a=o.getContext("2d"),e('<img src="'+t+'">').one("load",function(){o.width=this.width,o.height=this.height,a.clearRect(0,0,o.width,o.height),a.drawImage(this,0,0),s.load()})))},setData:function(t,i){var a=this.cropper,s=this.dragger,n=this.image,d=this.defaults.aspectRatio;this.built&&typeof t!==o&&((t===r||e.isEmptyObject(t))&&(s=e.extend({},this.defaultDragger)),e.isPlainObject(t)&&!e.isEmptyObject(t)&&(i||(this.defaults.data=t),t=this.transformData(t),D(t.x)&&t.x<=a.width-n.left&&(s.left=t.x+n.left),D(t.y)&&t.y<=a.height-n.top&&(s.top=t.y+n.top),d?D(t.width)&&t.width<=s.maxWidth&&t.width>=s.minWidth?(s.width=t.width,s.height=s.width/d):D(t.height)&&t.height<=s.maxHeight&&t.height>=s.minHeight&&(s.height=t.height,s.width=s.height*d):(D(t.width)&&t.width<=s.maxWidth&&t.width>=s.minWidth&&(s.width=t.width),D(t.height)&&t.height<=s.maxHeight&&t.height>=s.minHeight&&(s.height=t.height))),this.dragger=s,this.renderDragger())},getData:function(e){var t=this.dragger,i=this.image,a={};return this.built&&(a={x:t.left-i.left,y:t.top-i.top,width:t.width,height:t.height},a=this.transformData(a,!0,e)),a},transformData:function(t,i,a){var s=this.image.ratio,r={};return e.each(t,function(e,t){t=E(t),u.test(e)&&!isNaN(t)&&(r[e]=i?a?Math.round(t/s):t/s:t*s)}),r},setAspectRatio:function(e){var t="auto"===e;e=E(e),(t||!isNaN(e)&&e>0)&&(this.defaults.aspectRatio=t?NaN:e,this.built&&(this.initDragger(),this.renderDragger()))},getImageData:function(){var t={};return this.ready&&e.each(this.image,function(e,i){l.test(e)&&(t[e]=i)}),t},getDataURL:function(t,i,a){var s,r=e("<canvas>")[0],o=this.getData(),n="";return e.isPlainObject(t)||(a=i,i=t,t={}),t=e.extend({width:o.width,height:o.height},t),this.cropped&&this.support.canvas&&(r.width=t.width,r.height=t.height,s=r.getContext("2d"),"image/jpeg"===i&&(s.fillStyle="#fff",s.fillRect(0,0,t.width,t.height)),s.drawImage(this.$clone[0],o.x,o.y,o.width,o.height,0,0,t.width,t.height),n=r.toDataURL(i,a)),n},setDragMode:function(e){var t=this.$canvas,i=this.defaults,a=!1,s=!1;if(this.built&&!this.disabled){switch(e){case"crop":i.dragCrop&&(a=!0,t.data(n,e));break;case"move":s=!0,t.data(n,e);break;default:t.removeData(n)}t.toggleClass(g,a).toggleClass("cropper-move",s)}},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(f))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(f))},rotate:function(e){var t=this.image;e=E(e)||0,this.built&&0!==e&&!this.disabled&&this.defaults.rotatable&&this.support.canvas&&(this.rotated=!0,e=t.rotate=(t.rotate+e)%360,this.replace(this.getRotatedDataURL(e),!0))},getRotatedDataURL:function(t){var i=e("<canvas>")[0],a=i.getContext("2d"),s=t*Math.PI/180,r=S(t)%180,o=(r>90?180-r:r)*Math.PI/180,n=this.originalImage,d=n.naturalWidth,h=n.naturalHeight,u=S(d*L(o)+h*U(o)),l=S(d*U(o)+h*L(o));return i.width=u,i.height=l,a.save(),a.translate(u/2,l/2),a.rotate(s),a.drawImage(this.$original[0],-d/2,-h/2,d,h),a.restore(),i.toDataURL()},zoom:function(e){var t,i,a,s=this.image;e=E(e),this.built&&e&&!this.disabled&&this.defaults.zoomable&&(t=s.width*(1+e),i=s.height*(1+e),(a=t/s._width)>10||(a<1&&(t=s._width,i=s._height),a<=1?this.setDragMode("crop"):this.setDragMode("move"),s.oldWidth=s.width,s.oldHeight=s.height,s.width=t,s.height=i,s.ratio=s.width/s.naturalWidth,this.renderImage("zoom")))},dblclick:function(){this.disabled||(this.$canvas.hasClass(g)?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(e){var t,i=e.originalEvent;this.disabled||(e.preventDefault(),t=i.deltaY?(t=i.deltaY)%5==0?t/5:t%117.25==0?t/117.25:t/166.66665649414062:i.wheelDelta?-i.wheelDelta/120:i.detail?i.detail/3:0,this.zoom(.1*t))},dragstart:function(t){var i,a,s,r=t.originalEvent.touches,o=t;if(!this.disabled){if(r){if((s=r.length)>1){if(!this.defaults.zoomable||2!==s)return;o=r[1],this.startX2=o.pageX,this.startY2=o.pageY,i="zoom"}o=r[0]}if(i=i||e(o.target).data(n),h.test(i)){if(t.preventDefault(),a=e.Event(C),this.$element.trigger(a),a.isDefaultPrevented())return;this.directive=i,this.cropping=!1,this.startX=o.pageX,this.startY=o.pageY,"crop"===i&&(this.cropping=!0,this.$canvas.addClass(m))}}},dragmove:function(t){var i,a,s=t.originalEvent.touches,r=t;if(!this.disabled){if(s){if((a=s.length)>1){if(!this.defaults.zoomable||2!==a)return;r=s[1],this.endX2=r.pageX,this.endY2=r.pageY}r=s[0]}if(this.directive){if(t.preventDefault(),i=e.Event($),this.$element.trigger(i),i.isDefaultPrevented())return;this.endX=r.pageX,this.endY=r.pageY,this.dragging()}}},dragend:function(t){var i;if(!this.disabled&&this.directive){if(t.preventDefault(),i=e.Event(k),this.$element.trigger(i),i.isDefaultPrevented())return;this.cropping&&(this.cropping=!1,this.$canvas.toggleClass(m,this.cropped&&this.defaults.modal)),this.directive=""}},dragging:function(){var e,t,i,a,s,r,o,n=this.directive,d=this.image,h=this.cropper,u=h.width,l=h.height,m=this.dragger,c=m.width,g=m.height,f=m.left,y=m.top,v=f+c,w=y+g,b=!0,_=this.defaults,j=_.aspectRatio,Q={x:this.endX-this.startX,y:this.endY-this.startY};switch(j&&(Q.X=Q.y*j,Q.Y=Q.x/j),n){case"all":f+=Q.x,y+=Q.y;break;case"e":if(Q.x>=0&&(v>=u||j&&(y<=0||w>=l))){b=!1;break}c+=Q.x,j&&(g=c/j,y-=Q.Y/2),c<0&&(n="w",c=0);break;case"n":if(Q.y<=0&&(y<=0||j&&(f<=0||v>=u))){b=!1;break}g-=Q.y,y+=Q.y,j&&(c=g*j,f+=Q.X/2),g<0&&(n="s",g=0);break;case"w":if(Q.x<=0&&(f<=0||j&&(y<=0||w>=l))){b=!1;break}c-=Q.x,f+=Q.x,j&&(g=c/j,y+=Q.Y/2),c<0&&(n="e",c=0);break;case"s":if(Q.y>=0&&(w>=l||j&&(f<=0||v>=u))){b=!1;break}g+=Q.y,j&&(c=g*j,f-=Q.X/2),g<0&&(n="n",g=0);break;case"ne":if(j){if(Q.y<=0&&(y<=0||v>=u)){b=!1;break}g-=Q.y,y+=Q.y,c=g*j}else Q.x>=0?v<u?c+=Q.x:Q.y<=0&&y<=0&&(b=!1):c+=Q.x,Q.y<=0?y>0&&(g-=Q.y,y+=Q.y):(g-=Q.y,y+=Q.y);g<0&&(n="sw",g=0,c=0);break;case"nw":if(j){if(Q.y<=0&&(y<=0||f<=0)){b=!1;break}g-=Q.y,y+=Q.y,c=g*j,f+=Q.X}else Q.x<=0?f>0?(c-=Q.x,f+=Q.x):Q.y<=0&&y<=0&&(b=!1):(c-=Q.x,f+=Q.x),Q.y<=0?y>0&&(g-=Q.y,y+=Q.y):(g-=Q.y,y+=Q.y);g<0&&(n="se",g=0,c=0);break;case"sw":if(j){if(Q.x<=0&&(f<=0||w>=l)){b=!1;break}c-=Q.x,f+=Q.x,g=c/j}else Q.x<=0?f>0?(c-=Q.x,f+=Q.x):Q.y>=0&&w>=l&&(b=!1):(c-=Q.x,f+=Q.x),Q.y>=0?w<l&&(g+=Q.y):g+=Q.y;c<0&&(n="ne",g=0,c=0);break;case"se":if(j){if(Q.x>=0&&(v>=u||w>=l)){b=!1;break}g=(c+=Q.x)/j}else Q.x>=0?v<u?c+=Q.x:Q.y>=0&&w>=l&&(b=!1):c+=Q.x,Q.y>=0?w<l&&(g+=Q.y):g+=Q.y;c<0&&(n="nw",g=0,c=0);break;case"move":d.left+=Q.x,d.top+=Q.y,this.renderImage("move"),b=!1;break;case"zoom":_.zoomable&&(this.zoom((t=d.width,i=d.height,a=S(this.startX-this.startX2),s=S(this.startY-this.startY2),r=S(this.endX-this.endX2),o=S(this.endY-this.endY2),(W(r*r+o*o)-W(a*a+s*s))/W(t*t+i*i))),this.endX2=this.startX2,this.endY2=this.startY2);break;case"crop":Q.x&&Q.y&&(e=this.$cropper.offset(),f=this.startX-e.left,y=this.startY-e.top,c=m.minWidth,g=m.minHeight,Q.x>0?Q.y>0?n="se":(n="ne",y-=g):Q.y>0?(n="sw",f-=c):(n="nw",f-=c,y-=g),this.cropped||(this.cropped=!0,this.$dragger.removeClass(p)))}b&&(m.width=c,m.height=g,m.left=f,m.top=y,this.directive=n,this.renderDragger()),this.startX=this.endX,this.startY=this.endY}},H.TEMPLATE=(t=(t="div,span,directive,data,point,cropper,class,line,dashed").split(","),'<0 6="5-container"><0 6="5-canvas"></0><0 6="5-dragger"><1 6="5-viewer"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(e){return t[e]})),H.DEFAULTS={aspectRatio:"auto",autoCropArea:.8,data:{},done:e.noop,preview:"",multiple:!1,autoCrop:!0,dragCrop:!0,dashed:!0,modal:!0,movable:!0,resizable:!0,zoomable:!0,rotatable:!0,checkImageOrigin:!0,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,build:r,built:r,dragstart:r,dragmove:r,dragend:r},H.setDefaults=function(t){e.extend(H.DEFAULTS,t)},H.other=e.fn.cropper,e.fn.cropper=function(t){var i,a=M(arguments,1);return this.each(function(){var s,r=e(this),o=r.data("cropper");o||r.data("cropper",o=new H(this,t)),"string"==typeof t&&e.isFunction(s=o[t])&&(i=s.apply(o,a))}),typeof i!==o?i:this},e.fn.cropper.Constructor=H,e.fn.cropper.setDefaults=H.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=H.other,this}}),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function i(t,i){this.$element=e(t),this.options=i,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var a=this.tip();a.find(".tipsy-inner")[this.options.html?"html":"text"](i),a[0].className="tipsy",a.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var s,r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),o=a[0].offsetWidth,n=a[0].offsetHeight,d=t(this.options.gravity,this.$element[0]);switch(d.charAt(0)){case"n":s={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-o/2};break;case"s":s={top:r.top-n-this.options.offset,left:r.left+r.width/2-o/2};break;case"e":s={top:r.top+r.height/2-n/2,left:r.left-o-this.options.offset};break;case"w":extra_gap=0,e("body").css("position").length>0&&"relative"==e("body").css("position")&&e("#wpadminbar").length&&(extra_gap=e("#wpadminbar").height()),s={top:r.top+r.height/2-n/2-extra_gap,left:r.left+r.width+this.options.offset}}2==d.length&&("w"==d.charAt(1)?s.left=r.left+r.width/2-15:s.left=r.left+r.width/2-o+15),a.css(s).addClass("tipsy-"+d),a.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+d.charAt(0),this.options.className&&a.addClass(t(this.options.className,this.$element[0])),this.options.fade?a.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):a.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){if(!0===t)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}function s(a){var s=e.data(a,"tipsy");return s||(s=new i(a,e.fn.tipsy.elementOptions(a,t)),e.data(a,"tipsy",s)),s}function r(){var e=s(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function o(){var e=s(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if((t=e.extend({},e.fn.tipsy.defaults,t)).live||this.each(function(){s(this)}),"manual"!=t.trigger){var n="hover"==t.trigger?"mouseenter":"focus",d="hover"==t.trigger?"mouseleave":"blur";t.live?e(document).on(n,this.selector,r).on(d,this.selector,o):this.bind(n,r).bind(d,o)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,i){return e.metadata?e.extend({},i,e(t).metadata()):i},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,i){return function(){var a={ns:i[0],ew:i.length>1&&i[1]},s=e(document).scrollTop()+t,r=e(document).scrollLeft()+t,o=e(this);return o.offset().top<s&&(a.ns="n"),o.offset().left<r&&(a.ew="w"),e(window).width()+e(document).scrollLeft()-o.offset().left<t&&(a.ew="e"),e(window).height()+e(document).scrollTop()-o.offset().top<t&&(a.ns="s"),a.ns+(a.ew?a.ew:"")}}}(jQuery),jQuery(document).ready(function(){jQuery(document).on("click",".um-popup-overlay",function(){remove_Modal()}),jQuery(document).on("click",'.um-modal-overlay, a[data-action="um_remove_modal"]',function(){um_remove_modal()}),jQuery(document).on("click",'a[data-modal^="um_"], span[data-modal^="um_"], .um-modal a',function(e){return e.preventDefault(),!1}),jQuery(document).on("click",".um-modal .um-single-file-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-modal-body"),i=jQuery(this).parents(".um-modal-body").find(".um-single-fileinfo a").attr("href");return t.find(".um-single-file-preview").hide(),t.find(".ajax-upload-dragdrop").show(),t.find(".um-modal-btn.um-finish-upload").addClass("disabled"),um_modal_responsive(),jQuery.ajax({url:wp.ajax.settings.url,type:"post",data:{action:"um_remove_file",src:i}}),!1}),jQuery(document).on("click",".um-modal .um-single-image-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-modal-body"),i=jQuery(this).parents(".um-modal-body").find(".um-single-image-preview img").attr("src");return jQuery("img.cropper-hidden").cropper("destroy"),t.find(".um-single-image-preview img").attr("src",""),t.find(".um-single-image-preview").hide(),t.find(".ajax-upload-dragdrop").show(),t.find(".um-modal-btn.um-finish-upload").addClass("disabled"),um_modal_responsive(),jQuery.ajax({url:wp.ajax.settings.url,type:"post",data:{action:"um_remove_file",src:i}}),!1}),jQuery(document).on("click",".um-finish-upload.file:not(.disabled)",function(){var e=jQuery(this).attr("data-key"),t=jQuery(this).parents(".um-modal-body").find(".um-single-file-preview").html();um_remove_modal(),jQuery(".um-single-file-preview[data-key="+e+"]").fadeIn().html(t);var i=jQuery(".um-field[data-key="+e+"]").find(".um-single-fileinfo a").data("file");jQuery(".um-single-file-preview[data-key="+e+"]").parents(".um-field").find(".um-btn-auto-width").html(jQuery(this).attr("data-change")),jQuery(".um-single-file-preview[data-key="+e+"]").parents(".um-field").find('input[type="hidden"]').val(i)}),jQuery(document).on("click",".um-finish-upload.image:not(.disabled)",function(){var e=jQuery(this),t=jQuery(this).attr("data-key"),i=jQuery(this).parents(".um-modal-body").find(".um-single-image-preview"),a=i.find("img").attr("src"),s=i.attr("data-coord"),r=i.find("img").data("file"),o=0;jQuery(this).parents("#um_upload_single").data("user_id")&&(o=jQuery(this).parents("#um_upload_single").data("user_id")),s?(jQuery(this).html(jQuery(this).attr("data-processing")).addClass("disabled"),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",dataType:"json",data:{action:"um_resize_image",src:a,coord:s,user_id:o,key:t},success:function(i){1==i.success&&(d=new Date,"profile_photo"==t&&jQuery(".um-profile-photo-img img").attr("src",i.data.image.source_url+"?"+d.getTime()),"cover_photo"==t&&(jQuery(".um-cover-e").empty().html('<img src="'+i.data.image.source_url+"?"+d.getTime()+'" alt="" />'),jQuery(".um").hasClass("um-editing")&&jQuery(".um-cover-overlay").show()),jQuery(".um-single-image-preview[data-key="+t+"]").fadeIn().find("img").attr("src",i.data.image.source_url+"?"+d.getTime()),um_remove_modal(),jQuery(".um-single-image-preview[data-key="+t+"]").parents(".um-field").find(".um-btn-auto-width").html(e.attr("data-change")),jQuery(".um-single-image-preview[data-key="+t+"]").parents(".um-field").find('input[type="hidden"]').val(i.data.image.filename))}})):(d=new Date,jQuery(".um-single-image-preview[data-key="+t+"]").fadeIn().find("img").attr("src",a+"?"+d.getTime()),um_remove_modal(),jQuery(".um-single-image-preview[data-key="+t+"]").parents(".um-field").find(".um-btn-auto-width").html(e.attr("data-change")),jQuery(".um-single-image-preview[data-key="+t+"]").parents(".um-field").find("input[type=hidden]").val(r))}),jQuery(document).on("click",'a[data-modal^="um_"], span[data-modal^="um_"]',function(e){var t=jQuery(this).attr("data-modal"),i="normal";if(jQuery(this).data("modal-size"))i=jQuery(this).data("modal-size");jQuery(this).data("modal-copy")?(jQuery("#"+t).html(jQuery(this).parents(".um-field").find(".um-modal-hidden-content").html()),jQuery(this).parents(".um-profile-photo").attr("data-user_id")&&jQuery("#"+t).attr("data-user_id",jQuery(this).parents(".um-profile-photo").attr("data-user_id")),jQuery(this).parents(".um-cover").attr("data-ratio")&&jQuery("#"+t).attr("data-ratio",jQuery(this).parents(".um-cover").attr("data-ratio")),jQuery(this).parents(".um-cover").attr("data-user_id")&&jQuery("#"+t).attr("data-user_id",jQuery(this).parents(".um-cover").attr("data-user_id")),jQuery("input[type=hidden][name='user_id']").length>0&&jQuery("#"+t).attr("data-user_id",jQuery("input[type=hidden][name='user_id']").val()),um_new_modal(t,i)):um_new_modal(t,i)})}),jQuery(window).load(function(){um_responsive(),um_modal_responsive()}),jQuery(window).resize(function(){responsive_Modal(),jQuery("img.cropper-hidden").cropper("destroy"),um_responsive(),um_modal_responsive()});